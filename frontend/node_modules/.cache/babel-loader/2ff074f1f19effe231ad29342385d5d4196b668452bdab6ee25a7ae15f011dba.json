{"ast":null,"code":"import React,{useEffect,useRef}from'react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:3000');function ImageTranfer(){const fileInputRef=useRef();useEffect(()=>{socket.on('receiveImage',data=>{const img=document.createElement('img');img.src=URL.createObjectURL(new Blob([data]));document.body.appendChild(img);});},[]);const handleSendImage=()=>{const file=fileInputRef.current.files[0];if(file){const reader=new FileReader();reader.onload=e=>{const buffer=e.target.result;socket.emit('sendImage',buffer);};reader.readAsArrayBuffer(file);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendImage,children:\"Send Image\"})]});}export default ImageTranfer;","map":{"version":3,"names":["React","useEffect","useRef","io","jsx","_jsx","jsxs","_jsxs","socket","ImageTranfer","fileInputRef","on","data","img","document","createElement","src","URL","createObjectURL","Blob","body","appendChild","handleSendImage","file","current","files","reader","FileReader","onload","e","buffer","target","result","emit","readAsArrayBuffer","children","type","ref","onClick"],"sources":["C:/Users/rahma/Desktop/Projects/sProj1/sproj1/frontend/src/ImageTransfer.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io('http://localhost:3000');\r\n\r\nfunction ImageTranfer() {\r\n    const fileInputRef = useRef();\r\n\r\n    useEffect(() => {\r\n        socket.on('receiveImage', (data) => {\r\n            const img = document.createElement('img');\r\n            img.src = URL.createObjectURL(new Blob([data]));\r\n            document.body.appendChild(img);\r\n        });\r\n    }, []);\r\n\r\n    const handleSendImage = () => {\r\n        const file = fileInputRef.current.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                const buffer = e.target.result;\r\n                socket.emit('sendImage', buffer);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"file\" ref={fileInputRef} />\r\n            <button onClick={handleSendImage}>Send Image</button>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ImageTranfer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAE1C,QAAS,CAAAM,YAAYA,CAAA,CAAG,CACpB,KAAM,CAAAC,YAAY,CAAGR,MAAM,CAAC,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACZO,MAAM,CAACG,EAAE,CAAC,cAAc,CAAGC,IAAI,EAAK,CAChC,KAAM,CAAAC,GAAG,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACzCF,GAAG,CAACG,GAAG,CAAGC,GAAG,CAACC,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAACP,IAAI,CAAC,CAAC,CAAC,CAC/CE,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,GAAG,CAAC,CAClC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,IAAI,CAAGb,YAAY,CAACc,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC,CAC1C,GAAIF,IAAI,CAAE,CACN,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACnB,KAAM,CAAAC,MAAM,CAAGD,CAAC,CAACE,MAAM,CAACC,MAAM,CAC9BxB,MAAM,CAACyB,IAAI,CAAC,WAAW,CAAEH,MAAM,CAAC,CACpC,CAAC,CACDJ,MAAM,CAACQ,iBAAiB,CAACX,IAAI,CAAC,CAClC,CACJ,CAAC,CAED,mBACIhB,KAAA,QAAA4B,QAAA,eACI9B,IAAA,UAAO+B,IAAI,CAAC,MAAM,CAACC,GAAG,CAAE3B,YAAa,CAAE,CAAC,cACxCL,IAAA,WAAQiC,OAAO,CAAEhB,eAAgB,CAAAa,QAAA,CAAC,YAAU,CAAQ,CAAC,EACpD,CAAC,CAGd,CAEA,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
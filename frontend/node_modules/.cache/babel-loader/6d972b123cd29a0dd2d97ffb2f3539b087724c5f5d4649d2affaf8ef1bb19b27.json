{"ast":null,"code":"import React,{useEffect,useState}from'react';import io from'socket.io-client';import{jwtDecode}from'jwt-decode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:3000');function StoredImageTransfer(){const[images,setImages]=useState([]);useEffect(()=>{const token=localStorage.getItem('token');if(token){const decodedToken=jwtDecode(token);const userId=decodedToken.userId;socket.emit('requestImages',userId);socket.on('receiveImages',data=>{setImages(data);});return()=>{socket.off('receiveImages');};};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"head\",{children:/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,0\"})}),/*#__PURE__*/_jsx(TopBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"back\",children:/*#__PURE__*/_jsx(Link,{to:\"/homepage\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"48px\",viewBox:\"0 -960 960 960\",width:\"48px\",fill:\"#000000\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m297.18-440.39 238.95 238.96L480-145.87 145.87-480 480-814.7l56.13 56.13-238.95 238.96H814.7v79.22H297.18Z\"})})})})}),images.length>0&&/*#__PURE__*/_jsx(\"ul\",{children:images.map((image,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:3000/${image}`,alt:`Image ${index}`})},index))})]});}export default StoredImageTransfer;","map":{"version":3,"names":["React","useEffect","useState","io","jwtDecode","jsx","_jsx","jsxs","_jsxs","socket","StoredImageTransfer","images","setImages","token","localStorage","getItem","decodedToken","userId","emit","on","data","off","children","rel","href","TopBar","className","Link","to","xmlns","height","viewBox","width","fill","d","length","map","image","index","src","alt"],"sources":["C:/Users/rahma/Desktop/Projects/sProj1/sproj1/frontend/src/StoreImageTransfer.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport io from 'socket.io-client';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nconst socket = io('http://localhost:3000');\r\n\r\nfunction StoredImageTransfer() {\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n            if(token) {\r\n                const decodedToken = jwtDecode(token);\r\n                const userId = decodedToken.userId;\r\n\r\n                socket.emit('requestImages', userId);\r\n\r\n                socket.on('receiveImages', (data) => {\r\n                    setImages(data);\r\n                });\r\n        \r\n                return () => {\r\n                    socket.off('receiveImages');\r\n                };\r\n            };\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <head>\r\n                <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,0\" />\r\n\r\n            </head>\r\n\r\n            <TopBar />\r\n            <div className='background'>\r\n                <div className=\"back\">\r\n                    <Link to=\"/homepage\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48px\" viewBox=\"0 -960 960 960\" width=\"48px\" fill=\"#000000\"><path d=\"m297.18-440.39 238.95 238.96L480-145.87 145.87-480 480-814.7l56.13 56.13-238.95 238.96H814.7v79.22H297.18Z\" /></svg>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n            {images.length > 0 && (\r\n                <ul>\r\n                    {images.map((image, index) => (\r\n                        <li key={index}>\r\n                            <img src={`http://localhost:3000/${image}`} alt={`Image ${index}`} />\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default StoredImageTransfer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,OAASC,SAAS,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,MAAM,CAAGN,EAAE,CAAC,uBAAuB,CAAC,CAE1C,QAAS,CAAAO,mBAAmBA,CAAA,CAAG,CAC3B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACvC,GAAGF,KAAK,CAAE,CACN,KAAM,CAAAG,YAAY,CAAGZ,SAAS,CAACS,KAAK,CAAC,CACrC,KAAM,CAAAI,MAAM,CAAGD,YAAY,CAACC,MAAM,CAElCR,MAAM,CAACS,IAAI,CAAC,eAAe,CAAED,MAAM,CAAC,CAEpCR,MAAM,CAACU,EAAE,CAAC,eAAe,CAAGC,IAAI,EAAK,CACjCR,SAAS,CAACQ,IAAI,CAAC,CACnB,CAAC,CAAC,CAEF,MAAO,IAAM,CACTX,MAAM,CAACY,GAAG,CAAC,eAAe,CAAC,CAC/B,CAAC,CACL,CAAC,CACT,CAAC,CAAE,EAAE,CAAC,CAGN,mBACIb,KAAA,QAAAc,QAAA,eACIhB,IAAA,SAAAgB,QAAA,cACIhB,IAAA,SAAMiB,GAAG,CAAC,YAAY,CAACC,IAAI,CAAC,mGAAmG,CAAE,CAAC,CAEhI,CAAC,cAEPlB,IAAA,CAACmB,MAAM,GAAE,CAAC,cACVnB,IAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAJ,QAAA,cACvBhB,IAAA,QAAKoB,SAAS,CAAC,MAAM,CAAAJ,QAAA,cACjBhB,IAAA,CAACqB,IAAI,EAACC,EAAE,CAAC,WAAW,CAAAN,QAAA,cAChBhB,IAAA,QAAKuB,KAAK,CAAC,4BAA4B,CAACC,MAAM,CAAC,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAACC,KAAK,CAAC,MAAM,CAACC,IAAI,CAAC,SAAS,CAAAX,QAAA,cAAChB,IAAA,SAAM4B,CAAC,CAAC,4GAA4G,CAAE,CAAC,CAAK,CAAC,CACtO,CAAC,CACN,CAAC,CACL,CAAC,CAILvB,MAAM,CAACwB,MAAM,CAAG,CAAC,eACd7B,IAAA,OAAAgB,QAAA,CACKX,MAAM,CAACyB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBACrBhC,IAAA,OAAAgB,QAAA,cACIhB,IAAA,QAAKiC,GAAG,CAAE,yBAAyBF,KAAK,EAAG,CAACG,GAAG,CAAE,SAASF,KAAK,EAAG,CAAE,CAAC,EADhEA,KAEL,CACP,CAAC,CACF,CACP,EACA,CAAC,CAGd,CAEA,cAAe,CAAA5B,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
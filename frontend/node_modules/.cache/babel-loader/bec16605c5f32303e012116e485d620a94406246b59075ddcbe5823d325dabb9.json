{"ast":null,"code":"import axios from'axios';import TopBar from'../TopBar';import{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UploadPage(){const[status,setStatus]=useState('');const[file,setFile]=useState(null);const handleFileChange=event=>{setFile(event.target.files[0]);};const handleUpload=async()=>{if(!file){setStatus('No file selected');return;}const formData=new FormData();formData.append('Images',file);try{await axios.post('/api/v1/images/upload',formData,{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'multipart/form-data'}});setStatus('Uploaded');}catch(error){setStatus('Upload failed');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"head\",{children:/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,0\"})}),/*#__PURE__*/_jsx(TopBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back\",children:/*#__PURE__*/_jsx(Link,{to:\"/homepage\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"48px\",viewBox:\"0 -960 960 960\",width:\"48px\",fill:\"#000000\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m297.18-440.39 238.95 238.96L480-145.87 145.87-480 480-814.7l56.13 56.13-238.95 238.96H814.7v79.22H297.18Z\"})})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"h3\",{children:status})]})]});}export default UploadPage;","map":{"version":3,"names":["axios","TopBar","useState","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UploadPage","status","setStatus","file","setFile","handleFileChange","event","target","files","handleUpload","formData","FormData","append","post","headers","localStorage","getItem","error","children","rel","href","className","to","xmlns","height","viewBox","width","fill","d","type","onChange","onClick"],"sources":["C:/Users/rahma/Desktop/Projects/sProj1/sproj1/frontend/src/pages/upload.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport TopBar from '../TopBar';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction UploadPage () {\r\n    const [status, setStatus] = useState('');\r\n    const [file, setFile] = useState(null);\r\n\r\n    const handleFileChange = (event) => {\r\n        setFile(event.target.files[0]);\r\n    }\r\n\r\n    const handleUpload = async () => {\r\n        if (!file) {\r\n            setStatus('No file selected');\r\n            return\r\n        }\r\n        const formData = new FormData();\r\n        formData.append('Images', file);\r\n\r\n        try {\r\n            await axios.post('/api/v1/images/upload', formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                    'Content-Type':  'multipart/form-data'\r\n                },\r\n            });\r\n            setStatus('Uploaded');\r\n        } catch (error) {\r\n            setStatus('Upload failed');\r\n        }\r\n\r\n    };\r\n\r\n\r\n    return( <>\r\n    <head>\r\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,0\" />\r\n    </head>\r\n\r\n\r\n    <TopBar></TopBar>\r\n\r\n    <div className='background'>\r\n    <div className=\"back\">\r\n                <Link to=\"/homepage\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48px\" viewBox=\"0 -960 960 960\" width=\"48px\" fill=\"#000000\"><path d=\"m297.18-440.39 238.95 238.96L480-145.87 145.87-480 480-814.7l56.13 56.13-238.95 238.96H814.7v79.22H297.18Z\" /></svg>\r\n                </Link>\r\n            </div>\r\n        <input type='file' onChange={handleFileChange}/>\r\n        <button onClick={handleUpload}>Upload Image</button>\r\n        <h3>{status}</h3>\r\n    </div>\r\n\r\n    </>)\r\n}\r\n\r\nexport default UploadPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,QAAS,CAAAC,UAAUA,CAAA,CAAI,CACnB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACW,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEtC,KAAM,CAAAa,gBAAgB,CAAIC,KAAK,EAAK,CAChCF,OAAO,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CAACN,IAAI,CAAE,CACPD,SAAS,CAAC,kBAAkB,CAAC,CAC7B,OACJ,CACA,KAAM,CAAAQ,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAET,IAAI,CAAC,CAE/B,GAAI,CACA,KAAM,CAAAb,KAAK,CAACuB,IAAI,CAAC,uBAAuB,CAAEH,QAAQ,CAAE,CAChDI,OAAO,CAAE,CACL,eAAe,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAC1D,cAAc,CAAG,qBACrB,CACJ,CAAC,CAAC,CACFd,SAAS,CAAC,UAAU,CAAC,CACzB,CAAE,MAAOe,KAAK,CAAE,CACZf,SAAS,CAAC,eAAe,CAAC,CAC9B,CAEJ,CAAC,CAGD,mBAAQL,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACRvB,IAAA,SAAAuB,QAAA,cACAvB,IAAA,SAAMwB,GAAG,CAAC,YAAY,CAACC,IAAI,CAAC,mGAAmG,CAAE,CAAC,CAC5H,CAAC,cAGPzB,IAAA,CAACJ,MAAM,GAAS,CAAC,cAEjBM,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAH,QAAA,eAC3BvB,IAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAH,QAAA,cACTvB,IAAA,CAACF,IAAI,EAAC6B,EAAE,CAAC,WAAW,CAAAJ,QAAA,cAChBvB,IAAA,QAAK4B,KAAK,CAAC,4BAA4B,CAACC,MAAM,CAAC,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAACC,KAAK,CAAC,MAAM,CAACC,IAAI,CAAC,SAAS,CAAAT,QAAA,cAACvB,IAAA,SAAMiC,CAAC,CAAC,4GAA4G,CAAE,CAAC,CAAK,CAAC,CACtO,CAAC,CACN,CAAC,cACVjC,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEzB,gBAAiB,CAAC,CAAC,cAChDV,IAAA,WAAQoC,OAAO,CAAEtB,YAAa,CAAAS,QAAA,CAAC,cAAY,CAAQ,CAAC,cACpDvB,IAAA,OAAAuB,QAAA,CAAKjB,MAAM,CAAK,CAAC,EAChB,CAAC,EAEJ,CAAC,CACP,CAEA,cAAe,CAAAD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}